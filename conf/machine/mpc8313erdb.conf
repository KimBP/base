MACHINE_CPU	= "powerpc-e300c3"

MACHINE_CONFIG_kernel_defconfig = "83xx/mpc8313_rdb_defconfig"
MACHINE_CONFIG_kernel_imagetype = "uImage"
MACHINE_CONFIG_kernel_dtc = "1"

MACHINE_CONFIG_base_rootfs_jffs2_options = "-b -p 16384 -s 16384 -e 16384 -n -f -q"

MACHINE_CONFIG_uboot_config_file = "MPC8313ERDB.h"
MACHINE_CONFIG_uboot_config = "MPC8313ERDB_33"

MACHINE_CONFIG_uboot_extra_env = " \
\"uboot=0xfe000000\\0\" \\\n\ \
\"env=0xfe060000\\0\" \\\n\ \
\"uimage=0xfe100000\\0\" \\\n\ \
\"fdt=0xfe7f2000\\0\" \\\n\ \
\"vsc=0xfe7fe000\\0\" \\\n\ \
\"rootfs=0x400000\\0\" \\\n\ \
\"fdt_loadaddr=0x1000000\\0\" \\\n\ \
\"loadaddr=0x1004000\\0\" \\\n\ \
\"erase_env=protect off \$env +1fff;erase \$env +1fff;protect on \$env +1fff\\0\" \\\n\ \
\"erase_fdt=protect off \$fdt +3fff;erase \$fdt +3fff\\0\" \\\n\ \
\"erase_vsc=protect off \$vsc +1fff;erase \$vsc +1fff\\0\" \\\n\ \
\"erase_rootfs=nand erase.chip\\0\" \\\n\ \
\"erase_uboot=protect off \$uboot +\$filesize;erase \$uboot +\$filesize\\0\" \\\n\ \
\"erase_uimage=protect off \$uimage +\$filesize;erase \$uimage +\$filesize\\0\" \\\n\ \
\"write_fdt=cp.b \$fdt_loadaddr \$fdt \$filesize;protect on \$fdt +3fff;cmp.b \$fdt_loadaddr \$fdt \$filesize\\0\" \\\n\ \
\"write_vsc=cp.b \$loadaddr \$vsc \$filesize;protect on \$vsc +1fff;cmp.b \$loadaddr \$vsc \$filesize\\0\" \\\n\ \
\"write_rootfs=nand write \$loadaddr \$rootfs \$filesize;nand read \$loadaddr+\$filesize \$rootfs \$filesize;cmp \$loadaddr \$loadaddr+\$filesize \$filesize\\0\" \\\n\ \
\"write_uboot=cp.b \$loadaddr \$uboot \$filesize;protect on \$uboot +\$filesize;cmp.b \$loadaddr \$uboot \$filesize\\0\" \\\n\ \
\"write_uimage=cp.b \$loadaddr \$uimage \$filesize;protect on \$uimage +\$filesize;cmp.b \$loadaddr \$uimage \$filesize\\0\" \\\n\ \
\"tftp_fdt=dhcp \$fdt_loadaddr \$tftproot\/\$fdtfile\\0\" \\\n\ \
\"tftp_vsc=dhcp \$loadaddr \$tftproot\/\$vscfile\\0\" \\\n\ \
\"tftp_rootfs=dhcp \$loadaddr \$tftproot\/\$rootfsfile\\0\" \\\n\ \
\"tftp_uboot=dhcp \$loadaddr \$ubootfile\\0\" \\\n\ \
\"tftp_uimage=dhcp \$loadaddr \$tftproot\/\$bootfile\\0\" \\\n\ \
\"update_fdt=run tftp_fdt erase_fdt write_fdt\\0\" \\\n\ \
\"update_vsc=run tftp_vsc erase_vsc write_vsc\\0\" \\\n\ \
\"update_rootfs=run tftp_rootfs erase_rootfs write_rootfs\\0\" \\\n\ \
\"update_uboot=run tftp_uboot erase_uboot write_uboot\\0\" \\\n\ \
\"update_uimage=run tftp_uimage erase_uimage write_uimage\\0\" \\\n\ \
\"boot=bootm \$uimage - \$fdt_loadaddr\\0\" \\\n\ \
\"bootargs=init=\/sbin\/init console=ttyS0,115200 root=\/dev\/mtdblock3 rootfstype=jffs2 rw\\0\" \\\n\ \
\"bootcmd=run flashboot\\0\" \\\n\ \
\"bootdelay=-1\\0\" \\\n\ \
\"eth1addr=00:E0:0C:00:95:0b\\0\" \\\n\ \
\"ethaddr=00:E0:0C:00:95:09\\0\" \\\n\ \
\"flashboot=run load_fdt prep_fdt boot\\0\" \\\n\ \
\"load_fdt=fdt move \$fdt \$fdt_loadaddr 0x8000\\0\" \\\n\ \
\"prep_fdt=fdt addr \$fdt_loadaddr 0x8000;fdt boardsetup\\0\""
